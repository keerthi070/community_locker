{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nerel\\\\OneDrive\\\\Documents\\\\smartlocker\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from 'react';\nimport './Login.css';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nconst Login = () => {\n  const navigate = useNavigate();\n  const [mobileNumber, setMobileNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const handleLogin = async e => {\n    e.preventDefault();\n\n    // Set loading state to true when the request starts\n    setLoading(true);\n    setErrorMessage(''); // Reset any previous error message\n\n    try {\n      // Make POST request to backend login endpoint\n      const response = await axios.post('http://localhost:5000/login', {\n        mobileNumber,\n        password\n      });\n\n      // Handle successful login\n      if (response.data.success) {\n        alert('Login Successful');\n        localStorage.setItem('authToken', response.data.token); // Store the token\n        navigate('/'); // Redirect to home\n      } else {\n        setErrorMessage('Invalid Credentials');\n      }\n    } catch (error) {\n      // Log detailed error message\n      console.error('Login error:', error.response ? error.response.data : error.message);\n      setErrorMessage('Error logging in, please try again.');\n    } finally {\n      // Set loading to false when the request is complete\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"login-form\",\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Delivery Personnel Login\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"tel\",\n    placeholder: \"Mobile Number\",\n    value: mobileNumber,\n    onChange: e => setMobileNumber(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, loading ? 'Logging In...' : 'Login'), errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 26\n    }\n  }, errorMessage), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"register-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => navigate('/register'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 34\n    }\n  }, \"Register\"))));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useNavigate","axios","Login","navigate","mobileNumber","setMobileNumber","password","setPassword","loading","setLoading","errorMessage","setErrorMessage","handleLogin","e","preventDefault","response","post","data","success","alert","localStorage","setItem","token","error","console","message","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","disabled","onClick"],"sources":["C:/Users/nerel/OneDrive/Documents/smartlocker/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './Login.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  \r\n  const [mobileNumber, setMobileNumber] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Set loading state to true when the request starts\r\n    setLoading(true);\r\n    setErrorMessage(''); // Reset any previous error message\r\n\r\n    try {\r\n      // Make POST request to backend login endpoint\r\n      const response = await axios.post('http://localhost:5000/login', { mobileNumber, password });\r\n\r\n      // Handle successful login\r\n      if (response.data.success) {\r\n        alert('Login Successful');\r\n        localStorage.setItem('authToken', response.data.token); // Store the token\r\n        navigate('/'); // Redirect to home\r\n      } else {\r\n        setErrorMessage('Invalid Credentials');\r\n      }\r\n    } catch (error) {\r\n      // Log detailed error message\r\n      console.error('Login error:', error.response ? error.response.data : error.message);\r\n      setErrorMessage('Error logging in, please try again.');\r\n    } finally {\r\n      // Set loading to false when the request is complete\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <form className=\"login-form\" onSubmit={handleLogin}>\r\n        <h2>Delivery Personnel Login</h2>\r\n\r\n        <input\r\n          type=\"tel\"\r\n          placeholder=\"Mobile Number\"\r\n          value={mobileNumber}\r\n          onChange={(e) => setMobileNumber(e.target.value)}\r\n          required\r\n        />\r\n        \r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n        \r\n        <button type=\"submit\" disabled={loading}>\r\n          {loading ? 'Logging In...' : 'Login'}\r\n        </button>\r\n        \r\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n\r\n        <p className=\"register-link\">\r\n          Don't have an account? <span onClick={() => navigate('/register')}>Register</span>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}